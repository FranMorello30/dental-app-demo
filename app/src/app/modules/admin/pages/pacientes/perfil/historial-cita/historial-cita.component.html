<div class="surface-card p-6">
              <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-semibold text-gray-900 dark:text-white">Historial de Citas</h2>
                <div class="flex gap-2">
                  <button class="primary-btn text-sm">
                    <mat-icon svgIcon="feather:calendar" class="h-4 w-4" />
                    Agendar nueva cita
                  </button>
                  <button class="secondary-btn text-sm">
                    <mat-icon  svgIcon="feather:download" class="h-4 w-4" />
                    Exportar
                  </button>
                </div>
              </div>

              <div class="overflow-x-auto">
                <table class="w-full">
                  <thead class="table-head">
                    <tr>
                      <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wide">
                        Fecha
                      </th>
                      <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wide">
                        Tratamiento
                      </th>
                      <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wide">
                        Dentista
                      </th>
                      <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wide">
                        Estado
                      </th>
                      <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wide">
                        Costo
                      </th>
                      <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wide">
                        Acciones
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    @for (appointment of appointmentHistoryData; track $index) {
                    <tr  class="table-row">
                      <td class="table-cell">
                        {{ formatDate(appointment.date) }}
                      </td>
                      <td class="table-cell">{{ appointment.treatment }}</td>
                      <td class="table-cell">{{ appointment.dentist }}</td>
                      <td class="table-cell">
                        <span
                          [ngClass]="{
                            'px-2 py-0.5 rounded-full text-xs border': true,
                            'bg-green-50 text-green-700 border-green-200 dark:bg-green-500/20 dark:text-green-200 dark:border-green-500/40': appointment.status === 'Completada',
                            'bg-red-50 text-red-700 border-red-200 dark:bg-red-500/20 dark:text-red-200 dark:border-red-500/40': appointment.status === 'Cancelada',
                            'bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-500/20 dark:text-blue-200 dark:border-blue-500/40': appointment.status !== 'Completada' && appointment.status !== 'Cancelada'
                          }"
                        >
                          {{ appointment.status }}
                        </span>
                      </td>
                      <td class="table-cell">
                        ${{ appointment.cost.toFixed(2) }}
                        <span *ngIf="appointment.paid" class="ml-2 text-green-600 dark:text-green-300 text-xs font-semibold">PAGADO</span>
                      </td>
                      <td class="table-cell">
                        <div class="flex gap-2">
                          <button
                            class="ghost-icon-btn"
                            title="Ver detalles"
                          >
                            <mat-icon svgIcon="feather:file-text" class="h-4 w-4" />
                          </button>
                          <button
                            *ngIf="appointment.status === 'Completada'"
                            class="ghost-icon-btn"
                            title="Descargar recibo"
                          >
                            <mat-icon svgIcon="feather:download" class=" h-4 w-4" />
                          </button>
                        </div>
                      </td>
                    </tr>
                }
                  </tbody>
                </table>
              </div>

              @if(appointmentHistoryData.length === 0)
              {
                <div class="text-center py-10">
                  <p class="text-gray-600 dark:text-gray-300">No hay citas registradas.</p>
                </div>
              }
</div>